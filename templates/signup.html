{% extends 'base.html' %}

{% block TITLE %}Sign Up{% endblock %}

{% block BODY %}


<div class="container w-75 justify-content-center text-center text-dark align-content-top">

    {% with messages = get_flashed_messages(category_filter=['info']) %}
        {% if messages %}
            {% for msg in messages %}
            <div class="m-2 justify-content-center">               
                <div class="container w-75 bg-info text-dark">
                     <p class="pt-2 pb-2" style="font-weight:600">{{msg}}</p>
                 </div>     
             </div>           
            {% endfor %}
        {% endif %}
    {% endwith %}

    {% with errors = get_flashed_messages(category_filter=['error']) %}
        {% if errors %}
            {% for msg in errors %}
            <div class="m-2 justify-content-center">               
                <div class="container w-75 bg-warning text-dark">
                     <p class="pt-2 pb-2" style="font-weight:600">{{msg}}</p>
                 </div>     
             </div>           
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="mt-2 justify-content-center">               
        <div class="container w-75 text-center">
             <h1 class="pt-2 pb-1" style="font-size:50px">Sign Up</h1>
         </div>     
     </div>

    {% if session['user_id'] %}

    <div class="m-2 justify-content-center">               
        <div class="container w-75 bg-warning">
             <p class="pt-1 pb-1" >You are already logged in! Click <a href="/home" class="text-dark" style="font-weight:600">here</a>.</p>
         </div>     
     </div>
    
    {% else %}

    <div class="m-2 justify-content-center">               
        <div class="container w-75 bg-secondary text-center">
             <p class="pt-1 pb-1" style="font-size:15px">Please sign up below. <i style="font-size:14px">Already signed up? Click <a href="/login" class="text-dark" style="font-weight:600">here</a>.</i></p>
         </div>     
     </div>

    {% endif %}

    <div class="m-2 justify-content-center">               
        <div class="container w-75 bg-primary ">
            <form method="POST">
                {{form.hidden_tag()}}
                
                {% for field in form if field.widget.input_type != 'hidden' %}
                <div class="form-group text-start pt-2">
                        {{field.label(class_="text-start")}}
                        {{field(class_="form-control")}}
        
                        {% for error in field.errors %}
                        {{error}}
                        {% endfor %}
                    
                </div>
                {% endfor %}

                <div class="text-end">
                    <button type="submit" class="btn btn-success mt-2 mb-2">Sign Up</button>
                </div>
                       
        
            </form>
             
         </div>     
     </div>
    
    


</div>

{% endblock %}